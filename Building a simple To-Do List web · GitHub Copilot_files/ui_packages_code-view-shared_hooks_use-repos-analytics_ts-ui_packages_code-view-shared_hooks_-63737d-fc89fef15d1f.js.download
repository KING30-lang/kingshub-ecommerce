"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_code-view-shared_hooks_use-repos-analytics_ts-ui_packages_code-view-shared_hooks_-63737d","ui_packages_failbot_failbot_ts"],{7799:(e,t,n)=>{let r;function a(){if(!r)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return r}function o(){return r?.locale??"en-US"}function i(){return!!a().login}n.d(t,{JK:()=>o,M3:()=>i,_$:()=>a});!function(){if("undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{r=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}}()},98637:(e,t,n)=>{n.d(t,{T:()=>s});var r=n(88795),a=n(96235),o=n(60183),i=n(75367),c=n(60039),l=n(96540),u=n(93955);function s(){let{sendAnalyticsEvent:e}=(0,i.s)(),t=function(){let e=function(){let e=(0,r.t)(),t=(0,u.i)();return(0,l.useMemo)(()=>({react_app:"code-view",repository_id:e.id,repository_nwo:`${e.ownerLogin}/${e.name}`,repository_public:e.public,repository_is_fork:e.isFork,actor_id:t?.id,actor_login:t?.login}),[e,t])}(),t=(0,r.t)(),n=(0,a.yH8)(a.tTz,{owner:t.ownerLogin,repo:t.name});return(0,l.useCallback)((t,r,a)=>{let o={target:t,interaction:r,context:a,...e,...{url:window.location.href,user_agent:window.navigator.userAgent,browser_width:window.innerWidth,browser_languages:window.navigator.languages.join(",")}};(0,c.lS)(n,{method:"POST",body:o})},[e,n])}(),n=(0,o.u)("code_nav_ui_events");return{sendRepoClickEvent:(0,l.useCallback)((r,a={})=>{e("repository.click",r,a),n&&t(r,"click",a)},[e,t,n]),sendRepoKeyDownEvent:(0,l.useCallback)((r,a={})=>{e("repository.keydown",r,a),n&&t(r,"keydown",a)},[e,t,n]),sendStats:(0,l.useCallback)((r,a={})=>{e(r,"",a),n&&t(r,"stats",a)},[e,t,n]),sendMarketplaceActionEvent:(0,l.useCallback)((t,n={})=>{e("marketplace.action.click",t,n)},[e])}}},21113:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(141),a=n(88795),o=n(96235),i=n(80663),c=n(96540);function l(){let e=(0,a.t)(),{path:t,action:n,refInfo:l}=(0,r.eu)(),[u]=(0,i.I)(()=>!1,!0,[]);function s(e){return e?`?${e}`:""}function d(e){return u?"":void 0===e?window.location.hash:e?`#${e}`:""}return{getItemUrl:c.useCallback(t=>(0,o.IO9)({repo:e,commitish:l.name,action:"directory"===t.contentType?"tree":"blob",path:t.path}),[e.ownerLogin,e.name,l.name]),getUrl(r={}){let a=(0,o.IO9)({repo:e,commitish:r.commitish||l.name,action:r.action||n,path:r.path||t})+function({params:e,hash:t}){return s(e)+d(t)}(r);return r.absolute?new URL(a,window.location.origin).href:a},createPermalink(r={}){let a=(0,o.IO9)({repo:e,commitish:l.currentOid,action:r.action||n,path:r.path||t})+function({params:e,hash:t}){return s(e)+d(t)}(r);return r.absolute?new URL(a,window.location.origin).href:a},isCurrentPagePermalink:()=>!u&&l.name===l.currentOid&&window.location.pathname.includes(l.currentOid)}}},32475:(e,t,n)=>{n.d(t,{G:()=>a,K:()=>o});var r=n(96679);let a=r.XC?.readyState==="interactive"||r.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.XC?.addEventListener("DOMContentLoaded",()=>{e()})}),o=r.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.cg?.addEventListener("load",e)})},22353:(e,t,n)=>{n.d(t,{N7:()=>v});var r=n(36301),a=n(77065),o=n(24212);function i(e){return(0,o.q)(e.stack||"").map(e=>({filename:e.file||"",function:String(e.methodName),lineno:(e.lineNumber||0).toString(),colno:(e.column||0).toString()}))}function c(e){let t=document.querySelectorAll(e);if(t.length>0)return t[t.length-1]}var l=n(43827),u=n(96679),s=n(78284),d=n(27851),f=n(62053);let m=!1,p=0,y=Date.now(),h=new Set(["AbortError","AuthSessionExpiredError","TypeError"]),g=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","Unable to perform this operation. Please try again later."]);function v(e,t={}){if(!(e instanceof Error||"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)){if(function(e){if(!e||"boolean"==typeof e||"number"==typeof e)return!0;if("string"==typeof e){if(E.some(t=>e.includes(t)))return!0}else if("object"==typeof e&&"string"==typeof e.message&&"number"==typeof e.code)return!0;return!1}(e))return;let n=Error(),r=function(e){try{return JSON.stringify(e)}catch{return"Unserializable"}}(e);w(S({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof e}, with value ${r}`,stacktrace:i(n),catalogService:document.head?.querySelector('meta[name="current-catalog-service"]')?.content},t));return}e.name&&("AbortError"===e.name||h.has(e.name)&&g.has(e.message)||e.name.startsWith("ApiError")&&g.has(e.message))||w(S({type:e.name,value:e.message,stacktrace:i(e),catalogService:e.catalogService||document.head?.querySelector('meta[name="current-catalog-service"]')?.content},t))}async function w(e){if(!(!b&&!m&&p<10&&(0,a.TT)()))return;let t=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(t){if(e.error.stacktrace.some(e=>C.test(e.filename)||C.test(e.function))){m=!0;return}p++;try{await fetch(t,{method:"post",body:JSON.stringify({context:e,target:document.head?.querySelector('meta[name="ui-target"]')?.content||"full"})})}catch{}}}function S(e,t={}){let n={...t};return(0,d.G7)("failbot_report_error_react_apps_on_page")&&!n.reactAppName&&(n.reactAppName=function(e){let t=function(){let e=new Set;for(let[t,n]of _)for(let r of document.querySelectorAll(t))if(r instanceof HTMLElement){let t=r.getAttribute(n);t&&e.add(t)}return Array.from(e)}();if(!t||!t.length||!e||!e.length)return;let n=new Set;for(let r of e){if(!r||!r.filename)continue;let e=r.filename.split(/[\\/]/).pop();if(!e||n.has(e))continue;n.add(e);let a=t.find(t=>e.toLowerCase().includes(t.toLowerCase()));if(a)return a}}(e.stacktrace)),Object.assign({error:e,sanitizedUrl:`${window.location.protocol}//${window.location.host}${function(){let e=c("meta[name=analytics-location]");return e?e.content:window.location.pathname}()+function(){let e=c("meta[name=analytics-location-query-strip]"),t="";e||(t=window.location.search);let n=c("meta[name=analytics-location-params]");for(let e of(n&&(t+=(t?"&":"?")+n.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let n=e.content.split(":",2);t=t.replace(RegExp(`(^|[?&])${n[0]}($|=)`,"g"),`$1${n[1]}$2`)}return t}()}`||window.location.href,readyState:document.readyState,referrer:(0,s.dR)(),timeSinceLoad:Math.round(Date.now()-y),user:function(){let e=document.head?.querySelector('meta[name="user-login"]')?.content;if(e)return e;let t=(0,r.y)();return`anonymous-${t}`}()||void 0,actorId:document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content,bundler:l.v,ui:!!document.querySelector('meta[name="ui"]'),release:document.head?.querySelector('meta[name="release"]')?.content,pastRequestIds:(0,f.xA)()},n)}let C=/(chrome|moz|safari)-extension:\/\//,b=!1;u.cg?.addEventListener("pageshow",()=>b=!1),u.cg?.addEventListener("pagehide",()=>b=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",e=>{v(e.data.error)});let E=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"],_=[["react-app","app-name"],["react-partial","partial-name"]]},27851:(e,t,n)=>{n.d(t,{G7:()=>l,XY:()=>u,fQ:()=>c});var r=n(5225),a=n(7799);function o(){return new Set((0,a._$)().featureFlags)}let i=n(96679).X3||function(){try{return process?.env?.STORYBOOK==="true"}catch{return!1}}()?o:(0,r.A)(o);function c(){return Array.from(i())}function l(e){return i().has(e)}let u={isFeatureEnabled:l}},62053:(e,t,n)=>{n.d(t,{Ex:()=>i,kt:()=>l,xA:()=>c});var r=n(96679);let a=Array(10).fill(null),o=0;function i(e){a[o]=e,o=(o+1)%10}function c(){let e=[];for(let t=0;t<10;t++){let n=a[(o-1-t+10)%10];n&&e.push(n)}return e}function l(){let e=r.XC;if(!e)return;let t=e.querySelector('meta[name="request-id"]'),n=t?.getAttribute("content");n&&i(n)}},43827:(e,t,n)=>{n.d(t,{k:()=>i,v:()=>c});var r=n(5225),a=n(96679);let o=(0,r.A)(function(){return a.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),i=(0,r.A)(function(){return"enterprise"===o()}),c="webpack"},85351:(e,t,n)=>{n.d(t,{A:()=>i,D:()=>c});var r=n(96679),a=n(7479);let o=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function i(e,t={throwQuotaErrorsOnSet:!1},n=r.cg,c=e=>e,l=e=>e){let u;try{if(!n)throw Error();u=n[e]||new o}catch{u=new o}let{throwQuotaErrorsOnSet:s}=t;function d(e){t.sendCacheStats&&(0,a.i)({incrementKey:e})}function f(e){try{if(u.removeItem(e),t.ttl){let t=`${e}:expiry`;u.removeItem(t)}}catch{}}return{getItem:function(e,t=Date.now()){try{let n=u.getItem(e);if(!n)return null;let r=`${e}:expiry`,a=Number(u.getItem(r));if(a&&t>a)return f(e),f(r),d("SAFE_STORAGE_VALUE_EXPIRED"),null;return d("SAFE_STORAGE_VALUE_WITHIN_TTL"),c(n)}catch{return null}},setItem:function(e,n,r=Date.now()){try{if(u.setItem(e,l(n)),t.ttl){let n=`${e}:expiry`,a=r+t.ttl;u.setItem(n,a.toString())}}catch(e){if(s&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:f,clear:u.clear,getKeys:function(){return Object.keys(u)},get length(){return u.length}}}function c(e){return i(e,{throwQuotaErrorsOnSet:!1},r.cg,JSON.parse,JSON.stringify)}},24852:(e,t,n)=>{n.d(t,{Ai:()=>o,Gq:()=>r,SO:()=>a});let{getItem:r,setItem:a,removeItem:o}=(0,n(85351).A)("sessionStorage")},78284:(e,t,n)=>{n.d(t,{BW:()=>a,Ff:()=>m,HK:()=>w,JA:()=>k,LM:()=>p,Pv:()=>b,Vy:()=>f,ZW:()=>C,dR:()=>S,di:()=>y,fX:()=>E,gc:()=>_,k9:()=>v,my:()=>g,r7:()=>A,wG:()=>h,xT:()=>d});var r=n(24852);let a="reload",o="soft-nav:fail",i="soft-nav:fail-referrer",c="soft-nav:referrer",l="soft-nav:marker",u="soft-nav:react-app-name",s="soft-nav:latest-mechanism";function d(){(0,r.SO)(l,"0"),(0,r.Ai)(c),(0,r.Ai)(o),(0,r.Ai)(i),(0,r.Ai)(u),(0,r.Ai)(s)}function f(e){(0,r.SO)(l,e)}function m(){(0,r.SO)(l,"0")}function p(){let e=(0,r.Gq)(l);return e&&"0"!==e}function y(){return(0,r.Gq)(l)}function h(){return!!g()}function g(){return(0,r.Gq)(o)}function v(e){(0,r.SO)(o,e||a),(0,r.SO)(i,window.location.href)}function w(){(0,r.SO)(c,window.location.href)}function S(){return(0,r.Gq)(c)||document.referrer}function C(){let e=E();e?(0,r.SO)(u,e):(0,r.Ai)(u)}function b(){return(0,r.Gq)(u)}function E(){return document.querySelector('react-partial[partial-name="repos-overview"]')?"repos-overview":document.querySelector("react-app")?.getAttribute("app-name")}function _(){return!!document.querySelector("react-app")?.getAttribute("app-name")}function k(e){(0,r.SO)(s,e)}function A(){return(0,r.Gq)(s)}},96679:(e,t,n)=>{n.d(t,{KJ:()=>r.KJ,Kn:()=>a.Kn,X3:()=>r.X3,XC:()=>a.XC,cg:()=>a.cg,fV:()=>a.fV,g5:()=>r.g5});var r=n(28583),a=n(46570)},46570:(e,t,n)=>{n.d(t,{Kn:()=>i,XC:()=>a,cg:()=>o,fV:()=>c});let r="undefined"!=typeof FORCE_SERVER_ENV&&FORCE_SERVER_ENV,a="undefined"==typeof document||r?void 0:document,o="undefined"==typeof window||r?void 0:window,i="undefined"==typeof history||r?void 0:history,c="undefined"==typeof location||r?{pathname:"",origin:"",search:"",hash:"",href:""}:location},28583:(e,t,n)=>{n.d(t,{KJ:()=>o,X3:()=>a,g5:()=>i});var r=n(46570);let a=void 0===r.XC,o=!a;function i(){return!!a||!r.XC||!!(r.XC.querySelector('react-app[data-ssr="true"]')||r.XC.querySelector('react-partial[data-ssr="true"][partial-name="repos-overview"]'))}},7479:(e,t,n)=>{n.d(t,{X:()=>p,i:()=>s});var r=n(96679),a=n(32475),o=n(43827),i=n(27851),c=n(7799),l=n(70170);let u=[];function s(e,t=!1,n=.5){if(!r.X3&&!0!==(0,i.G7)("browser_stats_disabled")){if(n<0||n>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=Date.now()),e.loggedIn=(0,c.M3)(),e.staff=p(),e.bundler=o.v,Math.random()<n&&u.push(e),t?m():f()}}let d=null,f=(0,l.n)(async function(){await a.K,null==d&&(d=window.requestIdleCallback(m))},5e3);function m(){if(d=null,!u.length)return;let e=r.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(e){for(let a of function(e){let t=[],n=e.map(e=>JSON.stringify(e));for(;n.length>0;)t.push(function(e){let t=e.shift(),n=[t],r=t.length;for(;e.length>0&&r<=65536;){let t=e[0].length;if(r+t<=65536){let a=e.shift();n.push(a),r+=t}else break}return n}(n));return t}(u)){var t=e,n=`{"stats": [${a.join(",")}], "target": "${r.XC?.head?.querySelector('meta[name="ui-target"]')?.content||"full"}"}`;try{navigator.sendBeacon&&navigator.sendBeacon(t,n)}catch{}}u=[]}}function p(){return!!r.XC?.head?.querySelector('meta[name="user-staff"]')?.content}r.XC?.addEventListener("pagehide",m),r.XC?.addEventListener("visibilitychange",m)},75367:(e,t,n)=>{n.d(t,{S:()=>l,s:()=>c});var r=n(21728),a=n(96540),o=n(38007),i=n(78924);function c(){let e,t,n=(0,r.c)(6),c=(0,a.useContext)(i.I);if(!c)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:l,category:u,metadata:s}=c;n[0]!==l||n[1]!==u||n[2]!==s?(e=(e,t,n)=>{let r={react:!0,app_name:l,category:u,...s};(0,o.BI)(e,{...r,...void 0===n?{}:n,target:t})},n[0]=l,n[1]=u,n[2]=s,n[3]=e):e=n[3];let d=e;return n[4]!==d?(t={sendAnalyticsEvent:d},n[4]=d,n[5]=t):t=n[5],t}function l(){let e,t,n=(0,r.c)(4),{sendAnalyticsEvent:a}=c();n[0]!==a?(e=e=>{a("analytics.click",void 0,void 0===e?{}:e)},n[0]=a,n[1]=e):e=n[1];let o=e;return n[2]!==o?(t={sendClickAnalyticsEvent:o},n[2]=o,n[3]=t):t=n[3],t}},31075:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(96540);function a(e){let t=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}},54763:(e,t,n)=>{n.d(t,{E:()=>o});var r=n(74848),a=n(69098);function o({children:e}){return(0,a.P)()?(0,r.jsx)(r.Fragment,{children:e}):null}try{o.displayName||(o.displayName="AllShortcutsEnabled")}catch{}},69098:(e,t,n)=>{n.d(t,{$:()=>i,P:()=>c});var r=n(74848),a=n(96540);let o=a.createContext(!0);function i({allShortcutsEnabled:e,children:t}){return(0,r.jsxs)(o.Provider,{value:e,children:[" ",t," "]})}function c(){return a.useContext(o)}try{o.displayName||(o.displayName="AllShortcutsEnabledContext")}catch{}try{i.displayName||(i.displayName="AllShortcutsEnabledProvider")}catch{}},85579:(e,t,n)=>{n.d(t,{Ck:()=>c,JS:()=>i});var r=n(74848),a=n(96540);let o=(0,a.createContext)({query:"",setQuery:()=>void 0});function i(){return(0,a.useContext)(o)}function c({children:e}){let[t,n]=(0,a.useState)(""),i=(0,a.useMemo)(()=>({query:t,setQuery:n}),[n,t]);return(0,r.jsx)(o.Provider,{value:i,children:e})}try{o.displayName||(o.displayName="FileQueryContext")}catch{}try{c.displayName||(c.displayName="FileQueryProvider")}catch{}},141:(e,t,n)=>{n.d(t,{eu:()=>l,qV:()=>c,sq:()=>u});var r=n(74848),a=n(64262),o=n(96540);let i=o.createContext({});function c({children:e,...t}){return(0,r.jsx)(i.Provider,{value:t,children:e})}function l(){return o.useContext(i)}function u(){return(0,a.X)()}try{i.displayName||(i.displayName="FilesPageInfoContext")}catch{}try{c.displayName||(c.displayName="FilesPageInfoProvider")}catch{}},88795:(e,t,n)=>{n.d(t,{d:()=>c,t:()=>l});var r=n(74848),a=n(21728),o=n(96540);let i=o.createContext({});function c(e){let t,n=(0,a.c)(3),{repository:o,children:c}=e;return n[0]!==c||n[1]!==o?(t=(0,r.jsxs)(i.Provider,{value:o,children:[" ",c," "]}),n[0]=c,n[1]=o,n[2]=t):t=n[2],t}function l(){return o.useContext(i)}try{i.displayName||(i.displayName="CurrentRepositoryContext")}catch{}try{c.displayName||(c.displayName="CurrentRepositoryProvider")}catch{}},93955:(e,t,n)=>{n.d(t,{Q:()=>c,i:()=>l});var r=n(74848),a=n(21728),o=n(96540);let i=o.createContext(void 0);function c(e){let t,n=(0,a.c)(3),{user:o,children:c}=e;return n[0]!==c||n[1]!==o?(t=(0,r.jsxs)(i.Provider,{value:o,children:[" ",c," "]}),n[0]=c,n[1]=o,n[2]=t):t=n[2],t}function l(){return o.useContext(i)}try{i.displayName||(i.displayName="CurrentUserContext")}catch{}try{c.displayName||(c.displayName="CurrentUserProvider")}catch{}},30422:(e,t,n)=>{n.d(t,{BC:()=>u,JU:()=>d,Pk:()=>l});var r=n(74848),a=n(75177),o=n(52464),i=n(99418),c=n(96540);let l=f(a.A),u=f(o.A),s=(0,c.forwardRef)((e,t)=>(0,r.jsx)("div",{ref:t,...e}));s.displayName="Div";let d=f(s);function f(e){let t=(0,c.forwardRef)((t,n)=>{let{sanitizedHTML:a,props:o}=function(e){let{html:t,domPurifyConfig:n,...r}=e,a={...n,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{sanitizedHTML:i.default.sanitize(t,a),props:r}}(t);return(0,r.jsx)(e,{ref:n,...o,dangerouslySetInnerHTML:{__html:a}})});return t.displayName=`UnsafeHTML${e.displayName||e.name}`,t}try{d.displayName||(d.displayName="UnsafeHTMLDiv")}catch{}}}]);
//# sourceMappingURL=ui_packages_code-view-shared_hooks_use-repos-analytics_ts-ui_packages_code-view-shared_hooks_-63737d-e68b6dba7c45.js.map